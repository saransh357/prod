:root {
  --g:    #00ff41;
  --g3:   #007a1a;
  --r:    #ff3333;
  --bg:   #020804;
  --sub:  #4a9955;
  --bdr:  rgba(0,255,65,0.18);
  --mono: 'Share Tech Mono', monospace;
  --disp: 'Orbitron', sans-serif;
}

*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

html, body {
  width:100%; min-height:100vh;
  background:var(--bg); color:var(--g);
  font-family:var(--mono);
}

/* scanlines */
/* scanlines — UI only, not over video */
.scanlines {
  pointer-events:none; position:fixed; inset:0; z-index:50;
  background:repeating-linear-gradient(to bottom,transparent 0,transparent 2px,rgba(0,0,0,.09) 2px,rgba(0,0,0,.09) 4px);
}

/* layout */
.wrap { display:flex; flex-direction:column; min-height:100vh; padding:14px; gap:10px; }
.grid { display:grid; grid-template-columns:270px 1fr; gap:10px; flex:1; }

/* header */
.hdr {
  display:flex; align-items:center; justify-content:space-between;
  flex-wrap:wrap; gap:8px; padding:10px 18px;
  border:1px solid var(--bdr); background:rgba(0,255,65,.012);
}
.hdr-l, .hdr-r { font-size:.62rem; color:var(--sub); }
.hdr-c { text-align:center; }
.logo {
  font-family:var(--disp); font-size:1.5rem; font-weight:900;
  letter-spacing:8px; text-shadow:0 0 20px var(--g),0 0 45px var(--g3);
  animation:flicker 9s infinite;
}
.logo-sub { font-size:.47rem; color:var(--sub); letter-spacing:3px; margin-top:3px; }
@keyframes flicker { 0%,92%,100%{opacity:1}93%{opacity:.15}95%{opacity:.85}97%{opacity:.1} }

/* panel */
.panel {
  border:1px solid var(--bdr); padding:14px;
  display:flex; flex-direction:column; gap:10px;
  background:rgba(0,255,65,.008); overflow-y:auto;
}
.section-title {
  font-size:.57rem; color:var(--g3); letter-spacing:2px;
  border-bottom:1px solid var(--bdr); padding-bottom:6px;
}

/* tabs */
.tabs { display:flex; gap:6px; }
.tab {
  flex:1; padding:9px 4px; background:transparent;
  border:1px solid var(--bdr); color:var(--sub);
  font-family:var(--mono); font-size:.65rem; letter-spacing:1px;
  cursor:pointer; min-height:42px; transition:all .15s;
  touch-action:manipulation; -webkit-tap-highlight-color:transparent;
}
.tab-on { border-color:var(--g); color:var(--g); background:rgba(0,255,65,.07); }

/* input */
.field { display:flex; flex-direction:column; gap:5px; }
.field-label { font-size:.55rem; color:var(--sub); letter-spacing:2px; }
.field-input { display:flex; border:1px solid var(--bdr); background:rgba(0,0,0,.5); }
.field-input:focus-within { border-color:var(--g); }
.field-pre {
  padding:0 9px; color:var(--g);
  border-right:1px solid var(--bdr);
  display:flex; align-items:center; font-size:.78rem;
}
.inp {
  flex:1; padding:9px 10px; background:transparent;
  border:none; outline:none; color:var(--g);
  font-family:var(--mono); font-size:.76rem;
}
.inp::placeholder { color:var(--g3); }

/* buttons */
.btn-group { display:flex; flex-direction:column; gap:7px; }
.btn {
  width:100%; padding:11px 14px; background:transparent;
  border:1px solid var(--bdr); color:var(--sub);
  font-family:var(--mono); font-size:.70rem; letter-spacing:2px;
  cursor:pointer; min-height:44px; display:flex; align-items:center;
  gap:8px; transition:all .15s;
  touch-action:manipulation; -webkit-tap-highlight-color:rgba(0,255,65,.15);
}
.btn-green { border-color:var(--g3); color:var(--g); }
.btn-green:hover,.btn-green:active { background:rgba(0,255,65,.09); border-color:var(--g); }
.btn-dim   { border-color:#1c3a1c; color:var(--sub); }
.btn-dim:hover,.btn-dim:active { border-color:var(--g3); color:var(--g); }
.btn-red   { border-color:#4a0000; color:rgba(255,80,80,.7); }
.btn-red:hover,.btn-red:active { border-color:var(--r); color:var(--r); }

/* divider */
.divider { height:1px; background:linear-gradient(90deg,transparent,var(--bdr),transparent); }

/* log */
.log {
  background:#000; border:1px solid var(--bdr); padding:8px;
  min-height:80px; max-height:130px; overflow-y:auto;
  font-size:.60rem; display:flex; flex-direction:column; gap:2px;
}
.log::-webkit-scrollbar { width:3px; }
.log::-webkit-scrollbar-thumb { background:var(--g3); }
.log-row  { display:flex; gap:5px; line-height:1.5; }
.log-pre  { color:var(--g3); flex-shrink:0; }
.c-ok  { color:var(--g); }
.c-err { color:var(--r); }
.c-def { color:var(--sub); }

/* stats */
.stats { display:grid; grid-template-columns:1fr 1fr; gap:6px; }
.stat  { border:1px solid var(--bdr); padding:7px 9px; background:rgba(0,0,0,.35); }
.stat-l { font-size:.50rem; color:var(--sub); letter-spacing:2px; margin-bottom:2px; }
.stat-v { font-size:.68rem; color:var(--g); font-family:var(--disp); }

/* video section */
.vsec { display:flex; flex-direction:column; gap:10px; }
.vbox {
  position:relative; background:#000;
  border:1px solid var(--bdr); overflow:hidden; min-height:440px;
  isolation: isolate;  /* creates new stacking context — blocks scanlines overlay */
  z-index: 100;        /* above the scanlines z-index:50 */
}
.corner { position:absolute; width:16px; height:16px; z-index:5; pointer-events:none; }
.tl { top:8px;    left:8px;   border-top:2px solid var(--g); border-left:2px solid var(--g); }
.tr { top:8px;    right:8px;  border-top:2px solid var(--g); border-right:2px solid var(--g); }
.bl { bottom:8px; left:8px;   border-bottom:2px solid var(--g); border-left:2px solid var(--g); }
.br { bottom:8px; right:8px;  border-bottom:2px solid var(--g); border-right:2px solid var(--g); }

#videoEl {
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:cover; z-index:1; display:block;
}

/* overlays */
.ov {
  position:absolute; inset:0; z-index:10; background:#000;
  display:flex; flex-direction:column; align-items:center;
  justify-content:center; gap:14px;
}
.ov-dark { background:rgba(0,0,0,.93); }

.glitch {
  font-family:var(--disp); font-size:1.9rem; color:var(--g3);
  letter-spacing:8px; animation:gl 4s infinite;
}
@keyframes gl { 0%,88%,100%{transform:none}90%{transform:skewX(6deg)}92%{transform:skewX(-3deg)} }
.ov-sub { font-size:.58rem; color:var(--sub); letter-spacing:3px; }

.play-btn {
  font-family:var(--mono); font-size:1rem; padding:16px 36px;
  background:transparent; border:2px solid var(--g); color:var(--g);
  cursor:pointer; letter-spacing:4px; text-shadow:0 0 10px var(--g);
  box-shadow:0 0 28px rgba(0,255,65,.3); animation:pglow 1.5s infinite;
  touch-action:manipulation; -webkit-tap-highlight-color:transparent;
}
.play-btn:active { background:rgba(0,255,65,.14); }
@keyframes pglow { 50%{box-shadow:0 0 50px rgba(0,255,65,.55);} }

/* HUDs */
.hud-t {
  position:absolute; top:0; left:0; right:0; z-index:6;
  padding:10px 14px; display:flex; align-items:center;
  justify-content:space-between;
  background:linear-gradient(to bottom,rgba(0,0,0,.8),transparent);
  pointer-events:none;
}
.pill { display:flex; align-items:center; gap:6px; font-size:.62rem; letter-spacing:2px; }
.dot  { width:8px; height:8px; border-radius:50%; background:var(--r); box-shadow:0 0 6px var(--r); animation:blink 1.2s infinite; }
.dot.live { background:var(--g); box-shadow:0 0 10px var(--g); }
@keyframes blink { 50%{opacity:.2} }
.clock { font-size:.68rem; letter-spacing:2px; }
.fs-btn {
  pointer-events:all; background:rgba(0,0,0,.55);
  border:1px solid var(--bdr); color:var(--g);
  font-family:var(--mono); font-size:.57rem;
  padding:4px 8px; cursor:pointer; touch-action:manipulation;
}
.hud-b {
  position:absolute; bottom:0; left:0; right:0; z-index:6;
  padding:10px 14px; display:flex; align-items:center;
  justify-content:space-between;
  background:linear-gradient(to top,rgba(0,0,0,.8),transparent);
  pointer-events:none;
}
.tag { font-size:.54rem; color:var(--sub); letter-spacing:2px; border:1px solid var(--bdr); padding:2px 7px; background:rgba(0,0,0,.5); }

/* howto */
.howto { border:1px solid var(--bdr); background:rgba(0,0,0,.4); }
.howto summary { padding:10px 14px; cursor:pointer; font-size:.60rem; color:var(--sub); letter-spacing:2px; list-style:none; }
.howto summary:hover { color:var(--g); }
.how-body { padding:14px; border-top:1px solid var(--bdr); display:flex; flex-direction:column; gap:8px; }
.how-body p { font-size:.64rem; color:var(--sub); line-height:1.7; }
.how-body strong { color:var(--g); font-weight:normal; }
.gc { color:var(--g); }

/* footer */
.footer { text-align:center; font-size:.54rem; color:var(--sub); letter-spacing:2px; padding:8px; border:1px solid var(--bdr); }

/* responsive */
@media(max-width:750px) {
  .grid { grid-template-columns:1fr; }
  .vbox { min-height:260px; }
  .hdr-r { display:none; }
}
